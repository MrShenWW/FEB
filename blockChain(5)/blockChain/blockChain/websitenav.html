<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>链客财经</title>
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/websitenav.css">
</head>

<body>
    <div id="app" v-cloak>
        <div id="index" class="navbar-top">
            <div class="navbar">
                <div class="logo">
                    <a href="#" title="区块链">
                        <img src="images/logo.png" alt="区块链">
                    </a>
                </div>
                <ul class="navlist">
                    <li><a href="index.html">首页</a></li>
                    <li><a href="newlist.html">快讯</a></li>
                    <li><a href="information.html">资讯</a></li>
                    <!-- <li><a href="activity.html">活动</a></li> -->
                    <li class="active"><a href="websitenav.html">业务范围</a></li>
                </ul>
                <div class="search-box">
                    <input type="text">
                    <span class="search-btn">
                        <img src="images/search_1.png" alt=""> 搜索
                    </span>
                </div>
            </div>
            <div class="smallBar">
                <div class="menu">
                    <img src="images/menu.png" alt="">
                    <div class="menuContent">
                        <div class="menuList">
                            <div class="logo" style="padding:0;">
                                <a href="#" title="区块链">
                                    <img src="images/logo.png" alt="区块链">
                                </a>
                            </div>
                            <ul>
                                <li>
                                    <a href="index.html">首页</a>
                                </li>
                                <li>
                                    <a href="newlist.html">快讯</a>
                                </li>
                                <li>
                                    <a href="information.html">资讯</a>
                                </li>
                                <li>
                                    <a href="activity.html">活动</a>
                                </li>
                                <li>
                                    <a href="websitenav.html">业务范围</a>
                                </li>
                                <li>
                                    <a href="search.html">搜索</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="mark"></div>
                </div>
                <div class="logo">
                    <a href="#" title="区块链">
                        <img src="images/logo.png" alt="区块链">
                    </a>
                </div>
            </div>
        </div>
        <div class="content">
            <!-- 导航列表 -->
            <div class="webnav">
                <div class="searchnav">
                    <input type="text" oninput="change(this.value)" placeholder="搜索">
                    <i><img src="images/search.png" alt=""></i>
                    <span><img src="images/x.png" alt=""></span>
                </div>
                <div style="clear: both;width: 100%;"></div>
                <div class="label">
                    <ul>
                        <li id="all">ALL</li>
                        <li v-for="item in navlist" :key="item.id" v-if="item.param.length" :id="item.id">{{ item.name }}
                        </li>
                    </ul>
                </div>
                <div class="website_list">
                    <ul class="grid-item" v-for="item in navlist" v-if="item.param.length" v-show="item.isshow">
                        <li>
                            <span>
                                <img :src="item.img" alt="">
                            </span>
                            <p>{{ item.name }}</p>
                            <b>({{ item.param.length }})</b>
                        </li>
                        <li v-for="item1 in item.param" v-show="item1.isshow">
                            <a :href="item1.link">
                                <span>
                                    <img :src="item1.img" :alt="item1.title">
                                </span>
                                <p>{{ item1.title }}</p>
                            </a>
                        </li>
                    </ul>

                </div>
            </div>

            <!-- 返回顶部 -->
            <div class="fixed_top">
                <p>返回顶部</p>
                <img src="images/top.png" alt="">
            </div>
        </div>

        <!-- 页脚 -->
        <footer>
            <div class="link">
                <div>
                    <ul class="relevant">
                        <li><a href="./aboutus.html">关于我们</a></li>
                        <li><a href="#">服务条款</a></li>
                        <li><a href="#">联系我们</a></li>
                    </ul>
                </div>
                <div class="address">
                    <div class="endabout" style="flex: 1;">
                        <h2 style="color:#fff;font-size:16px;margin-bottom: 10px;">友情链接</h2>
                        <!-- <a href="https://bbb.one" target="_blank">BBB.ONE</a>
                        <a href="http://www.bitcoin86.com/" target="_blank">Bitcoin86</a>
                        <a href="http://www.bittrex.com" target="_blank">BITTREX</a>
                        <a href="https://www.bitv.com/" target="_blank">BITV</a>
                        <a href="http://www.btex.com" target="_blank">BTEX</a>
                        <a href="http://www.FN.com">FN财经</a>
                        <a href="http://www.odaily.com" target="_blank">Odaily星球日报</a>
                        <a href="https://www.onepaces.com/" target="_blank">一步财经</a>
                        <a href="https://www.sandianzhong.com/" target="_blank">三点钟财经</a>
                        <a href="http://jgy.com/" target="_blank">九个亿财经</a>
                        <a href="http://www.blockchain123.com" target="_blank">区块链导航</a>
                        <a href="http://www.xhcjtv.com/" target="_blank">嘻哈财经</a>
                        <a href="http://www.8btc.com" target="_blank">巴比特</a>
                        <a href="https://www.binance.com/" target="_blank">币安</a>
                        <a href="http://www.bixiaobai.com" target="_blank">币小白</a>
                        <a href="http://www.xcj.com" target="_blank">新财经</a>
                        <a href="http://www.hecaijing.com" target="_blank">核财经</a>
                        <a href="http://www.haitunbc.com/">海豚区块链</a>
                        <a href="https://www.ihuoqiu.com/" target="_blank">火球财经</a>
                        <a href="https://www.pandaminer.com/">熊猫矿机</a>
                        <a href="http://niubafa.com/" target="_blank">牛吧发</a>
                        <a href="http://www.niu6.cn" target="_blank">牛币情报局</a>
                        <a href="https://oxbtc.com/" target="_blank">牛比特</a>
                        <a href="http://www.zhenniucaijing.com/" target="_blank">真牛财经</a>
                        <a href="http://www.jiedian.io/" target="_blank">节点财经</a>
                        <a href="https://www.yaofache.com/" target="_blank">要发车</a>
                        <a href="http://www.qifengle.com/" target="_blank">起风财经</a>
                        <a href="https://www.7234.cn/" target="_blank">链世界</a>
                        <a href="https://www.feixiaohao.com/" target="_blank">非小号</a> -->
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script src="js/jquery-1.11.3.min.js"></script>
    <script src="js/masonry.pkgd.min.js"></script>
    <script src="js/public.js"></script>
    <script src="js/vue.js"></script>
    <script>
        function change(val) {
            var reg = new RegExp(val);
            console.log(reg);
            for (let i = 0; i < app.navlist.length; i++) {
                var error = 0;
                for (let j = 0; j < app.navlist[i].param.length; j++) {
                    if (reg.test(app.navlist[i].param[j].title)) {
                        app.navlist[i].isshow = true;
                        app.navlist[i].param[j].isshow = true;
                        error = 1;
                    } else {
                        app.navlist[i].param[j].isshow = false;
                    }
                }
                if (error) {
                    app.navlist[i].isshow = true;
                } else {
                    app.navlist[i].isshow = false;
                }
            }
            if (val == '') {
                $(".searchnav span").fadeOut(500);
            } else {
                $(".searchnav span").fadeIn(500);
            }
        }
        function ready() {
            // 搜索框
            $(".searchnav span").click(function () {
                $(".searchnav input").val('');
                $(".searchnav span").fadeOut(500);
                var data1 = app.navlist;
                data1.forEach((item, index) => {
                    data1[index].isshow = true;
                    data1[index].param.forEach((val, i) => {
                        data1[index].param[i].isshow = true;
                    })
                });
            })

            //标签选择
            $('.label').on('click', 'li', function () {
                $(this).addClass('label_active').siblings().removeClass('label_active');
                click($(this).attr('id'));
                getmasonry();
            })


        }//瀑布流
        function click(id) {
            var data2 = app.navlist;
            for (let i = 0; i < data2.length; i++) {
                if (data2[i].id == id || id == 'all') {
                    data2[i].isshow = true;
                } else {
                    data2[i].isshow = false;
                }
            }
            app.navlist = data2;
        }
        function getmasonry() {
            $('.website_list').masonry({
                // options
                itemSelector: '.grid-item',
                columnWidth: 0
            });
        }
        var app = new Vue({
            el: '#app',
            data: {
                navlist: []
            },
            created: function () {

                this.getnav();
            },
            mounted: function () {
                ready();

            },
            updated: function () {
                getmasonry();
                ready1();
                getfoot();
            },
            methods: {
                getnav: function () {
                    var that = this;
                    $.ajax(url + "/index/navigationn", {
                        type: 'POST',
                        dataType: 'json',
                        success: function (res) {
                            console.log(res);
                            var data1 = res;
                            data1.forEach((item, index) => {
                                data1[index].isshow = true;
                                data1[index].param.forEach((val, i) => {
                                    data1[index].param[i].isshow = true;
                                })
                            });
                            that.navlist = data1;
                        }
                    })
                }
            }
        })
    </script>
</body>

</html>